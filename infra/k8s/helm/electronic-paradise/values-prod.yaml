# Production Environment Values
# Usage: helm install electronic-paradise . -f values-prod.yaml -n prod

global:
  environment: prod

services:
  auth:
    replicas: 3
    resources:
      requests:
        memory: "512Mi"
        cpu: "200m"
      limits:
        memory: "1Gi"
        cpu: "1000m"
  user:
    replicas: 3
    resources:
      requests:
        memory: "512Mi"
        cpu: "200m"
      limits:
        memory: "1Gi"
        cpu: "1000m"
  product:
    replicas: 3
    resources:
      requests:
        memory: "512Mi"
        cpu: "200m"
      limits:
        memory: "1Gi"
        cpu: "1000m"
  order:
    replicas: 3
    resources:
      requests:
        memory: "512Mi"
        cpu: "200m"
      limits:
        memory: "1Gi"
        cpu: "1000m"
  payment:
    replicas: 3
    resources:
      requests:
        memory: "512Mi"
        cpu: "200m"
      limits:
        memory: "1Gi"
        cpu: "1000m"
  gateway:
    replicas: 3
    resources:
      requests:
        memory: "512Mi"
        cpu: "200m"
      limits:
        memory: "1Gi"
        cpu: "1000m"
  frontend:
    replicas: 3
    resources:
      requests:
        memory: "256Mi"
        cpu: "100m"
      limits:
        memory: "512Mi"
        cpu: "400m"

ingress:
  enabled: true
  hosts:
    - host: electronic-paradise.com
      paths:
        - path: /
          pathType: Prefix
          service: frontend
    - host: api.electronic-paradise.com
      paths:
        - path: /api(/|$)(.*)
          pathType: ImplementationSpecific
          service: gateway
        - path: /health
          pathType: Prefix
          service: gateway
  annotations:
    nginx.ingress.kubernetes.io/limit-rps: "200"
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
  # tls:
  #   - hosts:
  #       - electronic-paradise.com
  #       - api.electronic-paradise.com
  #     secretName: electronic-paradise-tls

---