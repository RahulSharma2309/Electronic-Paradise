---
# Secrets for Staging Environment
# Secrets store sensitive data like passwords and connection strings
# NOTE: In production, use proper secret management (Azure Key Vault, AWS Secrets Manager, etc.)

# Database Secret (shared by all services)
apiVersion: v1
kind: Secret
metadata:
  name: database-secret
  namespace: staging
  labels:
    app: database
    environment: staging
    managed-by: electronic-paradise
type: Opaque
stringData:
  # Database connection details
  # WARNING: This is for local development only!
  # In production, use proper secret management
  DB_SERVER: "mssql-service"
  DB_PORT: "1433"
  DB_USER: "sa"
  DB_PASSWORD: "Your_password123"
  DB_TRUST_CERT: "True"

---
# Auth Service Database Secret
apiVersion: v1
kind: Secret
metadata:
  name: auth-service-db-secret
  namespace: staging
  labels:
    app: auth-service
    environment: staging
    managed-by: electronic-paradise
type: Opaque
stringData:
  ConnectionStrings__DefaultConnection: "Server=mssql-service,1433;Database=authdb;User Id=sa;Password=Your_password123;TrustServerCertificate=True;"

---
# User Service Database Secret
apiVersion: v1
kind: Secret
metadata:
  name: user-service-db-secret
  namespace: staging
  labels:
    app: user-service
    environment: staging
    managed-by: electronic-paradise
type: Opaque
stringData:
  ConnectionStrings__DefaultConnection: "Server=mssql-service,1433;Database=userdb;User Id=sa;Password=Your_password123;TrustServerCertificate=True;"

---
# Product Service Database Secret
apiVersion: v1
kind: Secret
metadata:
  name: product-service-db-secret
  namespace: staging
  labels:
    app: product-service
    environment: staging
    managed-by: electronic-paradise
type: Opaque
stringData:
  ConnectionStrings__DefaultConnection: "Server=mssql-service,1433;Database=productdb;User Id=sa;Password=Your_password123;TrustServerCertificate=True;"

---
# Order Service Database Secret
apiVersion: v1
kind: Secret
metadata:
  name: order-service-db-secret
  namespace: staging
  labels:
    app: order-service
    environment: staging
    managed-by: electronic-paradise
type: Opaque
stringData:
  ConnectionStrings__DefaultConnection: "Server=mssql-service,1433;Database=orderdb;User Id=sa;Password=Your_password123;TrustServerCertificate=True;"

---
# Payment Service Database Secret
apiVersion: v1
kind: Secret
metadata:
  name: payment-service-db-secret
  namespace: staging
  labels:
    app: payment-service
    environment: staging
    managed-by: electronic-paradise
type: Opaque
stringData:
  ConnectionStrings__DefaultConnection: "Server=mssql-service,1433;Database=paymentdb;User Id=sa;Password=Your_password123;TrustServerCertificate=True;"

---
# ============================================
# Secrets for Production Environment
# ============================================
# NOTE: In production, these should be managed through proper secret management tools
# This is a template - replace with actual production secrets

# Database Secret (shared by all services)
apiVersion: v1
kind: Secret
metadata:
  name: database-secret
  namespace: prod
  labels:
    app: database
    environment: production
    managed-by: electronic-paradise
type: Opaque
stringData:
  # TODO: Replace with production values
  DB_SERVER: "mssql-service"
  DB_PORT: "1433"
  DB_USER: "sa"
  DB_PASSWORD: "CHANGE_ME_IN_PRODUCTION"
  DB_TRUST_CERT: "True"

---
# Auth Service Database Secret
apiVersion: v1
kind: Secret
metadata:
  name: auth-service-db-secret
  namespace: prod
  labels:
    app: auth-service
    environment: production
    managed-by: electronic-paradise
type: Opaque
stringData:
  ConnectionStrings__DefaultConnection: "Server=mssql-service,1433;Database=authdb;User Id=sa;Password=CHANGE_ME_IN_PRODUCTION;TrustServerCertificate=True;"

---
# User Service Database Secret
apiVersion: v1
kind: Secret
metadata:
  name: user-service-db-secret
  namespace: prod
  labels:
    app: user-service
    environment: production
    managed-by: electronic-paradise
type: Opaque
stringData:
  ConnectionStrings__DefaultConnection: "Server=mssql-service,1433;Database=userdb;User Id=sa;Password=CHANGE_ME_IN_PRODUCTION;TrustServerCertificate=True;"

---
# Product Service Database Secret
apiVersion: v1
kind: Secret
metadata:
  name: product-service-db-secret
  namespace: prod
  labels:
    app: product-service
    environment: production
    managed-by: electronic-paradise
type: Opaque
stringData:
  ConnectionStrings__DefaultConnection: "Server=mssql-service,1433;Database=productdb;User Id=sa;Password=CHANGE_ME_IN_PRODUCTION;TrustServerCertificate=True;"

---
# Order Service Database Secret
apiVersion: v1
kind: Secret
metadata:
  name: order-service-db-secret
  namespace: prod
  labels:
    app: order-service
    environment: production
    managed-by: electronic-paradise
type: Opaque
stringData:
  ConnectionStrings__DefaultConnection: "Server=mssql-service,1433;Database=orderdb;User Id=sa;Password=CHANGE_ME_IN_PRODUCTION;TrustServerCertificate=True;"

---
# Payment Service Database Secret
apiVersion: v1
kind: Secret
metadata:
  name: payment-service-db-secret
  namespace: prod
  labels:
    app: payment-service
    environment: production
    managed-by: electronic-paradise
type: Opaque
stringData:
  ConnectionStrings__DefaultConnection: "Server=mssql-service,1433;Database=paymentdb;User Id=sa;Password=CHANGE_ME_IN_PRODUCTION;TrustServerCertificate=True;"
